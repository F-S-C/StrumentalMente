<!DOCTYPE html>
<html lang="it">

<head>
	<title>Home - StrumentalMente</title>
	<link rel="icon" href="./assets/icon.ico" />

	<link href="./assets/css/style.css" rel="stylesheet" />
	<!-- FontAwesome -->
	<link href="./assets/css/fontawesome/css/all.min.css" rel="stylesheet" />

	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="description" content="StrumentalMente - Dove la musica diventa semplice." />
	<meta name="keywords" content="StrumentalMente, strumentale, musica, mente, strumenti, imparare, alessi, trollip, multimedia" />
	<meta name="author" content="FSC" />
	<meta name="robots" content="index, follow">
	<style>
		section {
			text-align: center;
		}

		body article header {
			padding-top: 34px;
			width: 100%;
			display: inline-block;
			text-align: center;
			position: relative;
		}

		body article header #profile-img {
			display: inline-block;
			text-align: center;
			position: relative;
			width: 48px;
			height: 48px;
			max-width: 100%;
			border-radius: 50%;
			transition: all .4s ease-in-out;
			box-shadow: 0px 0px 0px 8px rgba(0, 0, 0, 0.06);
		}

		body article header:hover #profile-img {
			box-shadow: 0px 0px 0px 12px rgba(0, 0, 0, 0.1);
		}

		#profile-img #initial {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			text-transform: uppercase;
			font-size: 20pt;
			color: white;
		}

		#username {
			color: var(--main-color);
			background-color: transparent;
			font-weight: 500;
			font-size: 20px;
			text-transform: capitalize;
			display: block;
			margin: 0 auto;
			text-align: center;
			border: none;
			font-family: var(--font-title);
		}

		#username+.fa-pen {
			font-family: "Font Awesome 5 Free";
			position: absolute;
			right: 5px;
			top: 10px;
			font-size: x-small;
			color: lightgray;
			z-index: -1;
		}

		.quiz-results-container {
			margin: 0 auto;
			width: 80%;
			display: grid;
			grid-template-columns: auto auto auto;
			grid-template-rows: auto auto auto;
		}

		.quiz-result {
			position: relative;
			height: 80px;
			text-align: left;
			padding: 40px 0 0 32px;
			margin: 16px;
			border-radius: 5px;
			box-shadow: 0 5px 5px -3px rgba(0, 0, 0, .2), 0 8px 10px 1px rgba(0, 0, 0, .14), 0 3px 14px 2px rgba(0, 0, 0, .12);
		}

		.quiz-result p {
			position: absolute;
			top: 50%;
			left: 32px;
			transform: translate(0, -50%);
			margin: 0;
		}

		.quiz-result p>.fas {
			margin-right: .5vw;
		}

		.fa-check-circle {
			color: #00AA00;
		}

		.fa-times-circle {
			color: #CC0000;
		}

		.fa-circle {
			color: #e55100;
		}

		.user-container {
			position: relative;
			margin: 0 auto;
			width: fit-content;
			text-align: center;
			margin-top: 10px;
		}
	</style>
	<script>
		function showResetDialog() {
			const { ipcRenderer } = require("electron");

			var answer = ipcRenderer.sendSync("prompt", {
				title: "Reset del profilo",
				label: "Sei sicuro di voler resettare il tuo profilo? Perderai tutti i risultati dei quiz che hai fatto.",
				yes: "Si",
				yesReturn: true,
				no: "No",
				noReturn: false
			});

			if (answer) {
				ipcRenderer.sendSync("save-quiz", { id: "*", passed: undefined });
				window.location.reload();
			}
		}
	</script>
</head>

<body>
	<header>
		<div id="titlebar">
			<div id="drag-region">
				<div id="window-title">
					<img id="window-title-image" src="./assets/icon.ico" alt="Icona" />
					<span id="window-title-text">Home - StrumentalMente</span>
				</div>
				<div id="window-controls">
					<div class="button" id="min-button">
						<span><i class="fas fa-minus" style="font-size: 1.2em;"></i></span>
					</div>
					<div class="button" id="max-button">
						<span><i class="far fa-window-maximize" style="font-size: 1.2em;"></i></span>
					</div>
					<div class="button" id="restore-button">
						<span><i class="far fa-window-restore" style="font-size: 1.2em;"></i></span>
					</div>
					<div class="button" id="close-button">
						<span><i class="fas fa-times" style="font-size: 1.2em;"></i></span>
					</div>
				</div>
			</div>
		</div>
	</header>


	<div class="main-wrapper">
		<nav class="main-navigation" id="main-nav">
			<ul>
				<li class="logo">
					<a href="./home.html">
						<img src="./assets/icon.ico" width="" height="" alt="" />
						<h1>Strumental<wbr /><span>Mente</span></h1>
					</a>
				</li>
				<li><a href="./home.html"><i class="fas fa-home"></i> Home</a></li>
				<li><a class="active" href="#" title="Mostra il profilo dell'utente (Alt+P)"><i class="fas fa-user-circle"></i> Profilo</a></li>
				<li class="dropdown">
					<button type="button" onclick="drop('sub1')" id="sub1-link">
						<i class="fas fa-book"></i> Teoria
					</button>
					<ul id="sub1">
						<li>
							<a href="./teoria-base.html" title="La teoria: le basi (Alt+T B)">
								Basi
							</a>
						</li>
						<li>
							<a href="./teoria-avanzata.html" title="La teoria avanzata (Alt+T A)">
								Avanzata
							</a>
						</li>
					</ul>
				</li>
				<li><a href="./home-strumenti.html" title="Apri la lista di srumenti (Alt+S S)"><i class="fas fa-guitar"></i> Strumenti</a></li>
				<li><a title="Apri la lista di strumenti per vederne gli accordi (Alt+A A)" href="./home-accordi.html"><i class="fas fa-music"></i> Accordi</a></li>
				<li>
					<button type="button" onclick="openModal('./map.html');" title="Mostra la mappa (Alt+M)">
						<i class="fas fa-map"></i> Mappa
					</button>
				</li>
				<li>
					<button type="button" onclick="openModal('./helpers/help-home.html');" title="Mostra l'aiuto (F1)">
						<i class="fas fa-question"></i> Aiuto
					</button>
				</li>
				<li>
					<button type="button" onclick="openModal('./about.html');" title="Informazioni  (Alt+I)">
						&nbsp;<i class="fas fa-info"></i> Informazioni
					</button>
				</li>
				<li>
					<button type="button" onclick="showExitDialog();" title="Esci dall'app (Esc)">
						<i class="fas fa-sign-out-alt"></i> Esci
					</button>
				</li>
			</ul>

			<footer>
				<p>Copyright &copy; 2019, <a onclick="openInBrowser('https:\/\/f-s-c.github.io\/');" href="javascript:void(0);">FSC</a>.
					Rilasciato sotto la
					licenza <a onclick="openInBrowser('https:\/\/www.apache.org\/licenses\/LICENSE-2.0');" href="javascript:void(0);">Apache
						2.0</a>.</p>
				<img src="./assets/images/fsc-logo-svg.svg" />
			</footer>
		</nav>
		<button type="button" id="sidebar-controller" onclick="openMobileNavigation();">
			<i class="fas fa-bars"></i>
		</button>

		<div class="content">
			<article>
				<header>
					<div id="profile-img">
						<span id="initial">U</span>
					</div>
					<div class="user-container">
						<input id="username" type="text" name="username" value="Username" />
						<i class="fas fa-pen"></i>
					</div>
				</header>
				<section>
					<h2>Riepilogo dei quiz</h2>
					<div class="quiz-results-container">
						<div class="quiz-result" id="base">
							<p><i class="fas fa-check-circle"></i> Teoria - Base</p>
						</div>
						<div class="quiz-result" id="avanzato">
							<p><i class="fas fa-check-circle"></i> Teoria - Avanzato</p>
						</div>
						<div class="quiz-result" id="basso">
							<p><i class="fas fa-check-circle"></i> Teoria - Basso</p>
						</div>
						<div class="quiz-result" id="batteria">
							<p><i class="fas fa-check-circle"></i> Teoria - Batteria</p>
						</div>
						<div class="quiz-result" id="chitarra">
							<p><i class="fas fa-check-circle"></i> Teoria - Chitarra</p>
						</div>
						<div class="quiz-result" id="piano">
							<p><i class="fas fa-check-circle"></i> Teoria - Pianoforte</p>
						</div>
						<div class="quiz-result" id="accordi-basso">
							<p><i class="fas fa-check-circle"></i> Accordi - Basso</p>
						</div>
						<div class="quiz-result" id="accordi-chitarra">
							<p><i class="fas fa-check-circle"></i> Accordi - Chitarra</p>
						</div>
						<div class="quiz-result" id="accordi-piano">
							<p><i class="fas fa-check-circle"></i> Accordi - Pianoforte</p>
						</div>
					</div>
					<div style="margin: 15px 0; text-align: center;">
						<button type="button" class="btn-text" onclick="showResetDialog();">
							Reset del profilo
						</button>
					</div>
				</section>
			</article>
		</div>
	</div>

	<script src="./assets/js/main.js"></script>
	<script src="./assets/js/render.js"></script>
	<script>
		openOnKeyboardShortcut("F1", "./helpers/help-home.html", true);

		window.onload = () => {
			let usernameContainer = document.getElementById("username");
			usernameContainer.value = getUsername();
			let changeProfileImage = () => {
				let colors = Array("#E55100", "#E58B00", "#0C4D95", "#00976A");
				document.getElementById("profile-img").style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
				document.getElementById("initial").innerHTML = usernameContainer.value.charAt(0);
			};
			changeProfileImage();
			usernameContainer.onchange = () => { setUsername(usernameContainer.value); changeProfileImage(); };
			usernameContainer.onkeypress = (e) => {
				if (e.key == "Enter") {
					usernameContainer.blur();
					return false;
				}
			};
			let containers = document.getElementsByClassName("quiz-result");

			for (var i = 0; i < containers.length; i++) {
				let hasPassedQuiz = getQuiz(containers[i].id);
				if (hasPassedQuiz == true)
					containers[i].getElementsByTagName("i")[0].className = "fas fa-check-circle";
				else if (hasPassedQuiz != undefined)
					containers[i].getElementsByTagName("i")[0].className = "fas fa-times-circle";
				else
					containers[i].getElementsByTagName("i")[0].className = "fas fa-circle";

			}
		};
	</script>
</body>

</html>